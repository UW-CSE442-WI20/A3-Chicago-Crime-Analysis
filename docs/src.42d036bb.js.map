{"version":3,"sources":["data.json","index.js"],"names":["module","exports","time_percentage","time","count","arrested_percentage","kind","margin","top","right","bottom","left","width","height","year","x","d3","scaleBand","range","padding","y","scaleLinear","svg","select","append","attr","tip","direction","offset","html","d","content","number","goBack","radius","Math","min","color","scaleOrdinal","pie","value","sort","arc","innerRadius","outerRadius","type","Number","arcTween","a","i","interpolate","_current","t","update","val","selectAll","remove","document","getElementById","style","display","data","require","on","text","path","transition","duration","attrTween","tip2","round","call","str","enter","show","hide","each","app","getElementsByClassName","app2","length","opacity","k","l","j","checked","csvFile","csv","then","forEach","domain","map","bandwidth","axisBottom","axisLeft","onclick"],"mappings":"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","file":"src.42d036bb.js","sourceRoot":"../src","sourcesContent":["module.exports={time_percentage:{2010:[{time:\"0:00-4:00\",count:\"0.25\"},{time:\"4:00-8:00\",count:\"0.12\"},{time:\"8:00-12:00\",count:\"0.07\"},{time:\"12:00-16:00\",count:\"0.13\"},{time:\"16:00-20:00\",count:\"0.17\"},{time:\"20:00-0:00\",count:\"0.23\"}],2011:[{time:\"0:00-4:00\",count:\"0.23\"},{time:\"4:00-8:00\",count:\"0.1\"},{time:\"8:00-12:00\",count:\"0.11\"},{time:\"12:00-16:00\",count:\"0.12\"},{time:\"16:00-20:00\",count:\"0.19\"},{time:\"20:00-0:00\",count:\"0.21\"}],2012:[{time:\"0:00-4:00\",count:\"0.2\"},{time:\"4:00-8:00\",count:\"0.1\"},{time:\"8:00-12:00\",count:\"0.1\"},{time:\"12:00-16:00\",count:\"0.14\"},{time:\"16:00-20:00\",count:\"0.19\"},{time:\"20:00-0:00\",count:\"0.23\"}],2013:[{time:\"0:00-4:00\",count:\"0.19\"},{time:\"4:00-8:00\",count:\"0.13\"},{time:\"8:00-12:00\",count:\"0.1\"},{time:\"12:00-16:00\",count:\"0.16\"},{time:\"16:00-20:00\",count:\"0.16\"},{time:\"20:00-0:00\",count:\"0.23\"}],2014:[{time:\"0:00-4:00\",count:\"0.24\"},{time:\"4:00-8:00\",count:\"0.11\"},{time:\"8:00-12:00\",count:\"0.07\"},{time:\"12:00-16:00\",count:\"0.14\"},{time:\"16:00-20:00\",count:\"0.18\"},{time:\"20:00-0:00\",count:\"0.23\"}],2015:[{time:\"0:00-4:00\",count:\"0.25\"},{time:\"4:00-8:00\",count:\"0.1\"},{time:\"8:00-12:00\",count:\"0.07\"},{time:\"12:00-16:00\",count:\"0.15\"},{time:\"16:00-20:00\",count:\"0.2\"},{time:\"20:00-0:00\",count:\"0.2\"}],2016:[{time:\"0:00-4:00\",count:\"0.23\"},{time:\"4:00-8:00\",count:\"0.1\"},{time:\"8:00-12:00\",count:\"0.08\"},{time:\"12:00-16:00\",count:\"0.13\"},{time:\"16:00-20:00\",count:\"0.2\"},{time:\"20:00-0:00\",count:\"0.22\"}],2017:[{time:\"0:00-4:00\",count:\"0.18\"},{time:\"4:00-8:00\",count:\"0.11\"},{time:\"8:00-12:00\",count:\"0.12\"},{time:\"12:00-16:00\",count:\"0.15\"},{time:\"16:00-20:00\",count:\"0.19\"},{time:\"20:00-0:00\",count:\"0.21\"}],2018:[{time:\"0:00-4:00\",count:\"0.19\"},{time:\"4:00-8:00\",count:\"0.11\"},{time:\"8:00-12:00\",count:\"0.11\"},{time:\"12:00-16:00\",count:\"0.15\"},{time:\"16:00-20:00\",count:\"0.18\"},{time:\"20:00-0:00\",count:\"0.23\"}],2019:[{time:\"0:00-4:00\",count:\"0.22\"},{time:\"4:00-8:00\",count:\"0.1\"},{time:\"8:00-12:00\",count:\"0.09\"},{time:\"12:00-16:00\",count:\"0.15\"},{time:\"16:00-20:00\",count:\"0.2\"},{time:\"20:00-0:00\",count:\"0.21\"}]},arrested_percentage:{2010:[{kind:\"arrested\",count:\"0.53\"},{kind:\"not_arrested\",count:\"0.46\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}],2011:[{kind:\"arrested\",count:\"0.57\"},{kind:\"not_arrested\",count:\"0.42\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}],2012:[{kind:\"arrested\",count:\"0.56\"},{kind:\"not_arrested\",count:\"0.43\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}],2013:[{kind:\"arrested\",count:\"0.56\"},{kind:\"not_arrested\",count:\"0.43\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}],2014:[{kind:\"arrested\",count:\"0.56\"},{kind:\"not_arrested\",count:\"0.43\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}],2015:[{kind:\"arrested\",count:\"0.61\"},{kind:\"not_arrested\",count:\"0.38\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}],2016:[{kind:\"arrested\",count:\"0.66\"},{kind:\"not_arrested\",count:\"0.33\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}],2017:[{kind:\"arrested\",count:\"0.73\"},{kind:\"not_arrested\",count:\"0.26\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}],2018:[{kind:\"arrested\",count:\"0.65\"},{kind:\"not_arrested\",count:\"0.34\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}],2019:[{kind:\"arrested\",count:\"0.77\"},{kind:\"not_arrested\",count:\"0.22\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"},{kind:\"arrested\",count:\"0\"}]}};","// set the dimensions and margins of the graph\nvar margin = {top: 75, right: 50, bottom: 30, left: 80},\n    width = 800 - margin.left - margin.right,\n    height = 500 - margin.top - margin.bottom;\n\nvar year = 2010;\n\n// set the ranges\nvar x = d3.scaleBand()\n    .range([0, width])\n    .padding(0.2);\nvar y = d3.scaleLinear()\n    .range([height, 0]);\n\n// append the svg object to the body of the page\n// append a 'group' element to 'svg'\n// moves the 'group' element to the top left margin\nvar svg = d3.select(\"body\").append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n    .append(\"g\")\n    .attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\nvar tip = d3.tip().attr('class', 'd3-tip').direction('n').offset([-5, 0])\n    .html(function(d) {\n        var content = \"<span style='margin-left: 2.5px;'><b>\" + d.number + \"</b></span><br>\";\n        return content;\n    });\n\ngoBack();\n\nconst radius = Math.min(width,height) / 2;\n\nconst color = d3.scaleOrdinal([\"#66c2a5\",\"#fc8d62\",\"#8da0cb\",\n    \"#e78ac3\",\"#a6d854\",\"#ffd92f\"]);\n\nconst pie = d3.pie()\n    .value(d => d.count)\n    .sort(null);\n\nconst arc = d3.arc()\n    .innerRadius(100)\n    .outerRadius(radius);\n\nfunction type(d) {\n    d.time_percentage = Number(d.time_percentage);\n    d.arrested_percentage = Number(d.arrested_percentage);\n    return d;\n}\n\nfunction arcTween(a) {\n    const i = d3.interpolate(this._current, a);\n    this._current = i(1);\n    return (t) => arc(i(t));\n}\n\nfunction update(val = this.value) {\n\n    svg.selectAll(\"text\").remove();\n\n    var butt = document.getElementById(\"control\");\n    butt.style.display = \"block\";\n\n    var note = document.getElementById(\"note\");\n    note.style.display = \"block\";\n\n    var ex1 = document.getElementById(\"explain1\");\n    ex1.style.display = \"none\";\n\n    var ex2 = document.getElementById(\"explain2\");\n    ex2.style.display = \"block\";\n\n    svg.attr(\"transform\", `translate(${300}, ${height - 120})`);\n\n    svg.append(\"circle\").attr(\"cx\", 0).attr(\"cy\", 0).attr(\"r\", 1).attr(\"id\", \"center\").attr(\"opacity\", 0).style(\"fill\", \"#66c2a5\");\n\n    var data = require('./data.json');\n    \n    d3.selectAll(\"input\")\n        .on(\"change\", update);\n\n    svg.append(\"circle\").attr(\"cx\", 300).attr(\"cy\", 0).attr(\"r\", 6).attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"fill\", \"#66c2a5\");\n    svg.append(\"circle\").attr(\"cx\", 300).attr(\"cy\", 30).attr(\"r\", 6).attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"fill\", \"#fc8d62\");\n    svg.append(\"circle\").attr(\"cx\", 300).attr(\"cy\", 60).attr(\"r\", 6).attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"fill\", \"#8da0cb\");\n    svg.append(\"circle\").attr(\"cx\", 300).attr(\"cy\", 90).attr(\"r\", 6).attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"fill\", \"#e78ac3\");\n    svg.append(\"circle\").attr(\"cx\", 300).attr(\"cy\", 120).attr(\"r\", 6).attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"fill\", \"#a6d854\");\n    svg.append(\"circle\").attr(\"cx\", 300).attr(\"cy\", 150).attr(\"r\", 6).attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"fill\", \"#ffd92f\");\n    svg.append(\"text\").attr(\"x\", 320).attr(\"y\", 0).text(\"0:00-4:00\").attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"font-size\", \"15px\").attr(\"alignment-baseline\", \"middle\");\n    svg.append(\"text\").attr(\"x\", 320).attr(\"y\", 30).text(\"4:00-8:00\").attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"font-size\", \"15px\").attr(\"alignment-baseline\", \"middle\");\n    svg.append(\"text\").attr(\"x\", 320).attr(\"y\", 60).text(\"8:00-12:00\").attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"font-size\", \"15px\").attr(\"alignment-baseline\", \"middle\");\n    svg.append(\"text\").attr(\"x\", 320).attr(\"y\", 90).text(\"12:00-16:00\").attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"font-size\", \"15px\").attr(\"alignment-baseline\", \"middle\");\n    svg.append(\"text\").attr(\"x\", 320).attr(\"y\", 120).text(\"16:00-20:00\").attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"font-size\", \"15px\").attr(\"alignment-baseline\", \"middle\");\n    svg.append(\"text\").attr(\"x\", 320).attr(\"y\", 150).text(\"20:00-0:00\").attr(\"class\", \"label1\").attr(\"opacity\", 0).style(\"font-size\", \"15px\").attr(\"alignment-baseline\", \"middle\");\n\n    svg.append(\"circle\").attr(\"cx\", 300).attr(\"cy\", 0).attr(\"r\", 6).attr(\"opacity\", 0).attr(\"class\", \"label2\").style(\"fill\", \"#66c2a5\");\n    svg.append(\"circle\").attr(\"cx\", 300).attr(\"cy\", 30).attr(\"r\", 6).attr(\"opacity\", 0).attr(\"class\", \"label2\").style(\"fill\", \"#fc8d62\");\n    svg.append(\"text\").attr(\"x\", 320).attr(\"y\", 0).text(\"arrested\").attr(\"opacity\", 0).attr(\"class\", \"label2\").style(\"font-size\", \"15px\").attr(\"alignment-baseline\", \"middle\");\n    svg.append(\"text\").attr(\"x\", 320).attr(\"y\", 30).text(\"not arrested\").attr(\"opacity\", 0).attr(\"class\", \"label2\").style(\"font-size\", \"15px\").attr(\"alignment-baseline\", \"middle\");\n\n    const path = svg.selectAll(\"path\")\n        .data(pie(data[val][year]));\n\n    // Update existing arcs\n    path.transition().duration(200).attrTween(\"d\", arcTween);\n\n\n    var tip2 = d3.tip().attr('class', 'd3-tip2').offset([0,0])\n        .html(function(d,i) {\n            var content = \"<span style='margin-left: 2.5px;'><b>\" + Math.round(d.data.count * 100) + \"%\" + \"</b></span><br>\";   \n            return content;\n        });\n\n    svg.call(tip2);\n\n    var str = \"When did homicide cases happen in \";\n\n    if (val == \"arrested_percentage\") {\n        str = \"How many percent of homicide commiters were arrested \"\n    }\n\n    svg.append(\"text\")\n        .attr(\"x\", 20)             \n        .attr(\"y\", -230)\n        .attr(\"text-anchor\", \"middle\")  \n        .style(\"font-size\", \"20px\") \n        .style(\"font-family\", \"STFangsong\")\n        .style(\"font-weight\", \"bold\")\n        .text(str + year + \" ?*\");\n\n    // Enter new arcs\n    path.enter().append(\"path\")\n        .attr(\"fill\", (d, i) => color(i))\n        .attr(\"d\", arc)\n        .attr(\"stroke\", \"white\")\n        .attr(\"stroke-width\", \"6px\")\n        .on(\"mouseover\", function(d,i) {\n            tip2.show(d,i,document.getElementById(\"center\"));\n            d3.select(this).transition().duration('50').attr('opacity', '0.6');\n        })\n        .on(\"mouseout\", function(d,i) {\n            tip2.hide(d,i);\n            d3.select(this).transition().duration('50').attr('opacity', '1');\n        })  \n        .each(function(d) { this._current = d; });\n\n    var app = document.getElementsByClassName(\"label1\");\n    var app2 = document.getElementsByClassName(\"label2\");\n    if (val == \"time_percentage\") {\n        for (var i = 0; i < app2.length; i++) {\n            app2[i].style.opacity = 0;\n        }\n        for (var k = 0; k < app.length; k++) {\n            app[k].style.opacity = 1;\n        }\n    } else {\n        for (var l = 0; l < app.length; l++) {\n            app[l].style.opacity = 0;\n        }\n        for (var j = 0; j < app2.length; j++) {\n            app2[j].style.opacity = 1;\n        }\n\n    }\n}\n\n\ndocument.getElementById(\"button\").onclick = function() {goBack()};\n\nfunction goBack() {\n    var butt = document.getElementById(\"control\");\n    butt.style.display = \"none\";\n    var r = document.getElementById(\"r\");\n    r.checked = true;\n\n    var note = document.getElementById(\"note\");\n    note.style.display = \"none\";\n\n    var ex1 = document.getElementById(\"explain1\");\n    ex1.style.display = \"block\";\n\n    var ex2 = document.getElementById(\"explain2\");\n    ex2.style.display = \"none\";\n\n    svg.selectAll(\"*\").remove();\n    svg.attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    svg.call(tip);\n\n    svg.append(\"text\")\n        .attr(\"x\", 350)             \n        .attr(\"y\", -30)\n        .attr(\"text-anchor\", \"middle\")  \n        .style(\"font-size\", \"22px\") \n        .style(\"font-family\", \"STFangsong\")\n        .style(\"font-weight\", \"bold\")\n        .text(\"Number of Homicide Cases over Years\");\n\n    // get the data\n    // d3.csv('./crime_number.csv', type).then(data => {\n    var csvFile = require('./crime_number.csv');\n    d3.csv(csvFile).then(function(data) {\n        // format the data\n        data.forEach(function(d) {\n            d.number = +d.number;\n        });\n\n        // Scale the range of the data in the domains\n        x.domain(data.map(function(d) { return d.year; }));\n        y.domain([0, 800]);\n\n        // append the rectangles for the bar chart\n        svg.selectAll(\".bar\")\n            .data(data)\n            .enter().append(\"rect\")\n            .attr(\"class\", \"bar\")\n            .attr(\"x\", function(d) { return x(d.year); })\n            .attr(\"width\", x.bandwidth())\n            .attr(\"height\", function(d) { return height - y(0); }) // always equal to 0\n            .attr(\"y\", function(d) { return y(0); })\n            .on(\"mouseover\", tip.show)\n            .on(\"mouseout\", tip.hide)\n            .on(\"click\", function(d) {\n                year = d.year;\n                svg.selectAll(\"*\").remove();                    \n                update(\"time_percentage\");  \n                d3.select(\".d3-tip\").remove(); \n            });\n\n        svg.selectAll(\"rect\")\n       .transition()\n       .duration(800)\n       .attr(\"y\", function(d) { return y(d.number); })\n       .attr(\"height\", function(d) { return height - y(d.number); });\n\n\n        // add the x Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(x))\n            .style(\"font-size\", \"12px\");\n\n        // add the y Axis\n        svg.append(\"g\")\n            .call(d3.axisLeft(y))\n            .style(\"font-size\", \"12px\");\n\n        svg.append(\"text\")\n            .attr(\"x\", 300)\n            .attr(\"y\", 435)\n            .text(\"Year\");\n\n        svg.append(\"text\")\n            .attr(\"x\", -250)\n            .attr(\"y\", -50)\n            .attr(\"transform\", \"rotate(-90)\")\n            .text(\"Total Cases\");\n\n    });\n\n}\n"]}